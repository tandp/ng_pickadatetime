(function(){var a,b;a=angular.module("ngPickadatetime",["ui.mask"]),a.factory("isValidDate",[function(){return function(a){return"[object Date]"!==Object.prototype.toString.call(a)?!1:!isNaN(a.getTime())}}]),b=function(){function a(a){this.datetime=this.create(a)}return a.prototype.dateMask="d MMM y",a.prototype.timeMask="HH:mm",a.prototype.setDate=function(a){var b;return b=new Date(a),this.datetime.setDate(b.getDate()),this.datetime.setMonth(b.getMonth()),this.datetime.setFullYear(b.getFullYear()),this.getDate()},a.prototype.getDate=function(){return this.datetime},a.prototype.setTime=function(a){var b;return b=(null!=a?a.length:void 0)>=4?a.match(/([0-9]{2})/g):[0,0],this.datetime.setHours(b[0]),this.datetime.setMinutes(b[1]),this.getTime()},a.prototype.toTimeFormat=function(a){return(0+a.toString()).slice(-2)},a.prototype.getTime=function(){var a,b;return a=this.toTimeFormat(this.datetime.getHours()),b=this.toTimeFormat(this.datetime.getMinutes()),a+b},a.prototype.dateParse=function(a){var b;return b=a.split(/[^0-9]/),new Date(b[0],b[1]-1,b[2],b[3],b[4],b[5],b[6],b[7])},a.prototype.create=function(a){return(null!=a?a.length:void 0)>10?this.dateParse(a):new Date},a.prototype.value=function(){return angular.isDate(this.datetime)&&!this.disable?this.datetime.toISOString():null},a}(),a.factory("PickaDateTimeClass",[function(){return b}]),a.directive("ngPickadatetime",["PickaDateTimeClass","isValidDate",function(a,b){return{restrict:"AC",template:"<div class='pickadatetime_wrapper'><input class='date-input' type='text'/><input class='time-input' type='text' ui-mask='99:99' ng-model='modelTime'/><input type='hidden' name='{{ name }}' ng-value='day.value()'/></div>",replace:!0,scope:{name:"@",date:"=",minDate:"=",disable:"="},controller:["$scope","$attrs",function(b,c){return b.day=new a(c.value,b.name),b.modelTime=b.day.getTime(),b.$watch("disable",function(a){return b.day.disable=a}),b.$watch("modelTime",function(a){return b.day.setTime(a)})}],link:function(a,c){var d,e,f,g;return d=c.find(".date-input"),g=new Date,e=a.day.datetime<g?a.day.datetime:g,d.pickadate({min:e,onSet:function(c){return!c.select||(a.day.setDate(c.select),null!=a.date&&b(a.day.datetime)&&(a.date=a.day.datetime),a.$$phase||a.$root.$$phase)?void 0:a.$apply()}}),f=d.pickadate("picker"),f.set("select",a.day.datetime),a.$watch("minDate",function(c){return b(c)&&a.day.datetime<a.minDate?(a.day.setDate(a.minDate),f.set({min:a.minDate,select:a.day.datetime})):void 0},!0)}}}])}).call(this);